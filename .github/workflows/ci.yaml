name: nvim configuration ci

on: push

jobs:
    build-test:
        name: Build on ${{ matrix.container }}
        runs-on: ubuntu-latest
        container: ${{ matrix.container }}
        steps:
            - id: step0
              name: checkout code
              uses: actions/checkout@v2
            - id: step1
              run: curl -LO https://github.com/neovim/neovim/releases/download/nightly/nvim-linux64.tar.gz 
            - id: step2
              run: |
                  tar xzf nvim-linux64.tar.gz 
                  export PATH="$PWD/nvim-linux64/bin:$PATH"
                  nvim --version
            - id: step3
              run: mkdir ~/.config/nvim -pv
            - id: step4
              run: cp * -rf ~/.config/nvim/
            - id: step5
              run: sudo apt install golang python3-pip nodejs npm ripgrep -y
            - id: step6
              run: npm install -g neovim && pip3 install neovim
            - id: step7 
              run: nvim +PlugInstall +q! +q


